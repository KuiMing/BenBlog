<html lang="tw">
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
    <meta http-equiv="Content-Language" content="zh-tw">
    <title>Pandas小技巧2 - Ben's blog</title>

    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui">

    <meta name="robots" content="index,follow" />
    <meta name="author" content="陳奎銘(Ben)" />
    <meta name="keywords" content="陳奎銘(Ben) | Ben's blog | Python" />
    <meta name="description" content="      Resampling¶將資料依照時間切割，同一時間區段的資料，統整成一筆。這其實在Pandas小技巧裡有提到土法煉鋼的做法，下面要教比較帥氣的做法。首先，先將資料變成Time Series data，然後再resample。¶Time Series¶In [57]:    import numpy as npimport pandas as pddf_series=pd.Series(data=np.array(df_pd.cpu_usage),index=df_pd.ts)df_seriesOut[57]:ts2016-12-31 00:00:02    0.0292332016-12-31 00:00:04    0.0306002016-12-31 00:00:06    0.0195602016-12-31 00:00:08    0.0329672016-12-31 00:00:10    0.0379442016-12-…" />

    <meta property="og:site_name" content="Ben's blog" />
    <meta property="og:type" content="profile" />
    <meta property="og:image" content="http://kuiming.github.io/BenBlog/img/og.png" />
    <meta property="og:title" content="Pandas小技巧2 - Ben's blog" />
    <meta property="og:locale" content="zh_TW" />
    <meta property="og:description" content="      Resampling¶將資料依照時間切割，同一時間區段的資料，統整成一筆。這其實在Pandas小技巧裡有提到土法煉鋼的做法，下面要教比較帥氣的做法。首先，先將資料變成Time Series data，然後再resample。¶Time Series¶In [57]:    import numpy as npimport pandas as pddf_series=pd.Series(data=np.array(df_pd.cpu_usage),index=df_pd.ts)df_seriesOut[57]:ts2016-12-31 00:00:02    0.0292332016-12-31 00:00:04    0.0306002016-12-31 00:00:06    0.0195602016-12-31 00:00:08    0.0329672016-12-31 00:00:10    0.0379442016-12-…" />
    <meta property="og:url" content="http://kuiming.github.io/BenBlog/article/Pandas小技巧2.html" />

    <link href="../res/fancyBox_v2.1.5/jquery.fancybox.css" rel="stylesheet" type="text/css">
    <link href="../res/fancyBox_v2.1.5/jquery.fancybox-buttons.css" rel="stylesheet" type="text/css">
    <link href="../res/fancyBox_v2.1.5/jquery.fancybox-thumbs.css" rel="stylesheet" type="text/css">

    <link href="../css/frame.css" rel="stylesheet" type="text/css">
    <link href="../css/frame_pc.css" rel="stylesheet" type="text/css">
    <link href="../css/frame_mobile.css" rel="stylesheet" type="text/css">
    <link href="../css/article.css" rel="stylesheet" type="text/css">
    <link href="../css/article_pc.css" rel="stylesheet" type="text/css">
    <link href="../css/article_mobile.css" rel="stylesheet" type="text/css">

    <script src="../js/ga.js" language="javascript" type="text/javascript"></script>
    <script src="../res/jquery_v1.10.2/jquery-1.10.2.min.js" language="javascript" type="text/javascript"></script>
    <script src="../res/oa-imgLiquid.js" language="javascript" type="text/javascript"></script>
    <script src="../res/jquery-timeago_v1.3.1/jquery.timeago.js" language="javascript" type="text/javascript"></script>
    <script src="../res/jquery-timeago_v1.3.1/locales/jquery.timeago.zh-TW.js" language="javascript" type="text/javascript"></script>
    <script src="../res/jQuery-Mobile-v1.3.0/swipe.js" language="javascript" type="text/javascript"></script>
    
    <script src="../res/fancyBox_v2.1.5/jquery.fancybox.js" language="javascript" type="text/javascript"></script>
    <script src="../res/fancyBox_v2.1.5/jquery.fancybox-buttons.js" language="javascript" type="text/javascript"></script>
    <script src="../res/fancyBox_v2.1.5/jquery.fancybox-thumbs.js" language="javascript" type="text/javascript"></script>
    <script src="../res/fancyBox_v2.1.5/jquery.fancybox-media.js" language="javascript" type="text/javascript"></script>

    <script src="../js/frame.js" language="javascript" type="text/javascript"></script>
    <script src="../js/article.js" language="javascript" type="text/javascript"></script>
  </head>
  <body lang="zh-tw">

    <div id='right_slide' class='close'>
      <div class='units'>
                <div class='unit title'>Ben's Info</div>
                            <div class="unit shimmer">benjamin0901@gmail.com</div>
                                <div class="unit shimmer">職業: R User</div>
                                <div class="unit shimmer">生日: 1984/09/01</div>
                                <div class='unit title'>Ben's Tags</div>

                                    <a href=".././tag/python"><div class='unit'>python(16)</div></a>
                                    <a href=".././tag/r"><div class='unit'>r(9)</div></a>
                                    <a href=".././tag/stock"><div class='unit'>stock(7)</div></a>
                                    <a href=".././tag/cassandra"><div class='unit'>cassandra(4)</div></a>
                                    <a href=".././tag/osx"><div class='unit'>osx(4)</div></a>
                                    <a href=".././tag/linux"><div class='unit'>linux(3)</div></a>
                                    <a href=".././tag/raspberry%20pi"><div class='unit'>raspberry pi(3)</div></a>
                                    <a href=".././tag/spark"><div class='unit'>spark(2)</div></a>
                                    <a href=".././tag/google"><div class='unit'>google(2)</div></a>
                                    <a href=".././tag/cv"><div class='unit'>cv(2)</div></a>
                                    <a href=".././tag/marathon"><div class='unit'>marathon(1)</div></a>
                                    <a href=".././tag/dc%2Fos"><div class='unit'>dc/os(1)</div></a>
                                    <a href=".././tag/rmarkdown"><div class='unit'>rmarkdown(1)</div></a>
                            <div class='unit title'>Ben's Link</div>
                            <a href="https://www.facebook.com/profile.php?id=523887614" target="_blank" title="ben's facebook"><div class="unit">Facebook</div></a>
                                <a href="https://github.com/KuiMing" target="_blank" title="ben's github"><div class="unit">GitHub</div></a>
                  </div>
    </div>
    <div id='slide_cover'></div>

    <div id="header" class="oa-navbar">
      <div class="oa-navbar-container">
        <div class="oa-navbar-items clearfix">
          <div class="oa-navbar-mobile home"><a href='../' alt="Ben's blog" title="Ben's blog"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewBox="0 0 16 16"><path d="M7.987 0h0.026c-0.005 0.001-0.009 0.002-0.013 0.002s-0.008-0.001-0.013-0.002zM15.424 6.834c0.771 0.771 0.771 2.023 0 2.795l-0.371 0.371h-1.053v4c0 1.104-0.896 2-2 2h-8c-1.104 0-2-0.896-2-2v-4h-1.053l-0.371-0.371c-0.771-0.772-0.771-2.024 0-2.795l6.289-6.288c0.319-0.319 0.72-0.492 1.135-0.544 0.415 0.052 0.816 0.225 1.135 0.544l6.289 6.288zM12 8h1.572c-0.042-0.17-0.112-0.334-0.244-0.468l-4.891-4.891c-0.125-0.125-0.278-0.194-0.437-0.238-0.159 0.044-0.312 0.114-0.436 0.238l-4.891 4.891c-0.133 0.134-0.203 0.298-0.245 0.468h1.572v5c0 0.553 0.447 1 1 1h1v-5h4v5h1c0.553 0 1-0.447 1-1v-5z" fill="#000000"></path></svg></a></div>
          <div class="oa-navbar-mobile">Ben's blog</div>
          <div class='oa-navbar-item'><a href='../' alt="Ben's blog" title="Ben's blog"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewBox="0 0 16 16"><path d="M7.987 0h0.026c-0.005 0.001-0.009 0.002-0.013 0.002s-0.008-0.001-0.013-0.002zM15.424 6.834c0.771 0.771 0.771 2.023 0 2.795l-0.371 0.371h-1.053v4c0 1.104-0.896 2-2 2h-8c-1.104 0-2-0.896-2-2v-4h-1.053l-0.371-0.371c-0.771-0.772-0.771-2.024 0-2.795l6.289-6.288c0.319-0.319 0.72-0.492 1.135-0.544 0.415 0.052 0.816 0.225 1.135 0.544l6.289 6.288zM12 8h1.572c-0.042-0.17-0.112-0.334-0.244-0.468l-4.891-4.891c-0.125-0.125-0.278-0.194-0.437-0.238-0.159 0.044-0.312 0.114-0.436 0.238l-4.891 4.891c-0.133 0.134-0.203 0.298-0.245 0.468h1.572v5c0 0.553 0.447 1 1 1h1v-5h4v5h1c0.553 0 1-0.447 1-1v-5z" fill="#000000"></path></svg></a></div>
                  <div class='oa-navbar-item'><a href="https://www.facebook.com/profile.php?id=523887614" alt="Ben's facebook" title="Ben's facebook" target="_blank"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="20" height="20" viewBox="0 0 20 20"><path d="M16.45 1.4h-12.9c-1.182 0-2.15 0.968-2.15 2.15v12.9c0 1.183 0.968 2.149 2.149 2.149h6.524v-6.167h-2.060v-2.686h2.060v-1.346c0-2.075 1.532-3.7 3.488-3.7h1.898v3.034h-1.699c-0.444 0-0.574 0.255-0.574 0.607v1.404h2.273v2.687h-2.273v6.168h3.263c1.183 0 2.149-0.967 2.149-2.149v-12.901c0.002-1.182-0.965-2.15-2.148-2.15z" fill="#000000"></path></svg></a></div>
                  <div class='oa-navbar-item'><a href="https://github.com/KuiMing" alt="ben's github" title="ben's github" target="_blank"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="415px" height="414.996px" viewBox="0 0 415 414.996" enable-background="new 0 0 415 414.996" xml:space="preserve"><path d="M331.312,86.24c-33.747-33.745-74.246-50.62-122.165-50.62c-47.922,0-88.421,16.875-122.17,50.62 c-33.748,33.749-50.622,74.247-50.622,122.172c0,47.921,16.874,88.419,50.622,122.168c33.749,33.744,74.248,50.621,122.17,50.621 c47.919,0,88.418-16.877,122.165-50.621c33.746-33.749,50.624-74.247,50.624-122.168C381.937,160.487,365.059,119.989,331.312,86.24 z M265.842,342.053c-4.749,1.965-8.775,3.377-13.5,4.727v-25.65c0-13.499-4.725-23.625-14.171-30.375 c37.119-2.7,77.618-17.55,77.618-81.67c0-17.549-5.399-32.398-16.874-44.547c4.725-13.5,4.05-28.35-2.024-43.872l-4.05-0.677 c-5.369-0.893-22.275,4.727-41.174,17.549c-13.496-4.05-27.674-6.073-41.845-6.073c-14.174,0-28.349,2.023-41.174,6.073 c-33.072-20.922-45.222-17.549-45.897-16.872c-6.074,15.522-6.749,30.372-2.024,43.872c-11.476,12.149-16.874,26.999-16.874,44.547 c0,64.12,40.497,78.97,77.621,81.67c-8.775,6.076-13.5,16.199-13.5,30.375v26.323c-5.399-1.35-10.775-3.435-15.523-5.399 c-34.402-14.234-62.441-42.662-76.946-76.947c-15.194-35.912-15.194-77.479,0-113.391c14.505-34.285,42.66-62.441,76.946-76.947 c35.914-15.193,77.478-15.193,113.392,0c34.286,14.506,62.441,42.662,76.946,76.947c15.193,35.912,15.193,77.479,0,113.391 C328.283,299.391,300.24,327.818,265.842,342.053z"/></svg></a></div>
            </div>
      </div>
      <div class="avatar_outline">
        <div class="avatar">
          <img src="http://i.imgur.com/8YSdNmE.jpg" style="position: absolute; width: 44px; height: 44px; top: 0px; left: 0px;">
        </div>
      </div>
    </div>

    <div id="container" class="clearfix">
      <div class='left'>
        <div class='block paper article'>
          <div class='title clearfix'>
            <h2>Pandas小技巧2</h2>
            <div class='date timeago' data-time="2017-01-02 13:06:43">2017-01-02 13:06:43</div>
          </div>
          <div class='content'>
  <div tabindex="-1" id="notebook" class="border-box-sizing">
    <div class="container" id="notebook-container">

<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Resampling">Resampling<a class="anchor-link" href="#Resampling">¶</a>
</h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="將資料依照時間切割，同一時間區段的資料，統整成一筆。這其實在Pandas小技巧裡有提到土法煉鋼的做法，下面要教比較帥氣的做法。首先，先將資料變成Time-Series-data，然後再resample。">將資料依照時間切割，同一時間區段的資料，統整成一筆。這其實在<a href="https://kuiming.github.io/BenBlog/article/Pandas%E5%B0%8F%E6%8A%80%E5%B7%A7.html">Pandas小技巧</a>裡有提到土法煉鋼的做法，下面要教比較帥氣的做法。首先，先將資料變成Time Series data，然後再resample。<a class="anchor-link" href="#%E5%B0%87%E8%B3%87%E6%96%99%E4%BE%9D%E7%85%A7%E6%99%82%E9%96%93%E5%88%87%E5%89%B2%EF%BC%8C%E5%90%8C%E4%B8%80%E6%99%82%E9%96%93%E5%8D%80%E6%AE%B5%E7%9A%84%E8%B3%87%E6%96%99%EF%BC%8C%E7%B5%B1%E6%95%B4%E6%88%90%E4%B8%80%E7%AD%86%E3%80%82%E9%80%99%E5%85%B6%E5%AF%A6%E5%9C%A8Pandas%E5%B0%8F%E6%8A%80%E5%B7%A7%E8%A3%A1%E6%9C%89%E6%8F%90%E5%88%B0%E5%9C%9F%E6%B3%95%E7%85%89%E9%8B%BC%E7%9A%84%E5%81%9A%E6%B3%95%EF%BC%8C%E4%B8%8B%E9%9D%A2%E8%A6%81%E6%95%99%E6%AF%94%E8%BC%83%E5%B8%A5%E6%B0%A3%E7%9A%84%E5%81%9A%E6%B3%95%E3%80%82%E9%A6%96%E5%85%88%EF%BC%8C%E5%85%88%E5%B0%87%E8%B3%87%E6%96%99%E8%AE%8A%E6%88%90Time-Series-data%EF%BC%8C%E7%84%B6%E5%BE%8C%E5%86%8Dresample%E3%80%82">¶</a>
</h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Time-Series">Time Series<a class="anchor-link" href="#Time-Series">¶</a>
</h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [57]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="n">df_series</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">df_pd</span><span class="o">.</span><span class="n">cpu_usage</span><span class="p">),</span><span class="n">index</span><span class="o">=</span><span class="n">df_pd</span><span class="o">.</span><span class="n">ts</span><span class="p">)</span>
<span class="n">df_series</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[57]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>ts
2016-12-31 00:00:02    0.029233
2016-12-31 00:00:04    0.030600
2016-12-31 00:00:06    0.019560
2016-12-31 00:00:08    0.032967
2016-12-31 00:00:10    0.037944
2016-12-31 00:00:12    0.018405
2016-12-31 00:00:14    0.032807
2016-12-31 00:00:16    0.019560
2016-12-31 00:00:18    0.033048
2016-12-31 00:00:20    0.019584
2016-12-31 00:00:22    0.018337
2016-12-31 00:00:24    0.030562
2016-12-31 00:00:26    0.025547
2016-12-31 00:00:28    0.023227
2016-12-31 00:00:30    0.041514
2016-12-31 00:00:32    0.024450
2016-12-31 00:00:34    0.024450
2016-12-31 00:00:36    0.028083
2016-12-31 00:00:39    0.031746
2016-12-31 00:00:41    0.019560
2016-12-31 00:00:43    0.022005
2016-12-31 00:00:45    0.036541
2016-12-31 00:00:47    0.019560
2016-12-31 00:00:49    0.023199
2016-12-31 00:00:51    0.019560
2016-12-31 00:00:53    0.030600
2016-12-31 00:00:55    0.021951
2016-12-31 00:00:57    0.023171
2016-12-31 00:00:59    0.020782
2016-12-31 00:01:01    0.061199
                         ...   
2016-12-31 07:36:18    0.039168
2016-12-31 07:36:20    0.020757
2016-12-31 07:36:22    0.020757
2016-12-31 07:36:24    0.023199
2016-12-31 07:36:26    0.023227
2016-12-31 07:36:28    0.034146
2016-12-31 07:36:30    0.033088
2016-12-31 07:36:32    0.020732
2016-12-31 07:36:34    0.025610
2016-12-31 07:36:36    0.028049
2016-12-31 07:36:39    0.025672
2016-12-31 07:36:41    0.030488
2016-12-31 07:36:43    0.032887
2016-12-31 07:36:45    0.023199
2016-12-31 07:36:47    0.024390
2016-12-31 07:36:49    0.026862
2016-12-31 07:36:51    0.026829
2016-12-31 07:36:53    0.024480
2016-12-31 07:36:55    0.020732
2016-12-31 07:36:57    0.019560
2016-12-31 07:36:59    0.031824
2016-12-31 07:37:01    0.035409
2016-12-31 07:37:03    0.023171
2016-12-31 07:37:05    0.022005
2016-12-31 07:37:07    0.029376
2016-12-31 07:37:09    0.026862
2016-12-31 07:37:11    0.028117
2016-12-31 07:37:13    0.024420
2016-12-31 07:37:16    0.022005
2016-12-31 07:37:18    0.025672
dtype: float32</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="asfreq">asfreq<a class="anchor-link" href="#asfreq">¶</a>
</h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="這個方法就可以做到resample的效果。但是，假設每十秒取一筆資料，第一筆是00:00:02，第二筆就會抓00:00:12，以此類推，如果有某個時間點沒有值，那就直接會以NAN呈現。">這個方法就可以做到resample的效果。但是，假設每十秒取一筆資料，第一筆是00:00:02，第二筆就會抓00:00:12，以此類推，如果有某個時間點沒有值，那就直接會以NAN呈現。<a class="anchor-link" href="#%E9%80%99%E5%80%8B%E6%96%B9%E6%B3%95%E5%B0%B1%E5%8F%AF%E4%BB%A5%E5%81%9A%E5%88%B0resample%E7%9A%84%E6%95%88%E6%9E%9C%E3%80%82%E4%BD%86%E6%98%AF%EF%BC%8C%E5%81%87%E8%A8%AD%E6%AF%8F%E5%8D%81%E7%A7%92%E5%8F%96%E4%B8%80%E7%AD%86%E8%B3%87%E6%96%99%EF%BC%8C%E7%AC%AC%E4%B8%80%E7%AD%86%E6%98%AF00:00:02%EF%BC%8C%E7%AC%AC%E4%BA%8C%E7%AD%86%E5%B0%B1%E6%9C%83%E6%8A%9300:00:12%EF%BC%8C%E4%BB%A5%E6%AD%A4%E9%A1%9E%E6%8E%A8%EF%BC%8C%E5%A6%82%E6%9E%9C%E6%9C%89%E6%9F%90%E5%80%8B%E6%99%82%E9%96%93%E9%BB%9E%E6%B2%92%E6%9C%89%E5%80%BC%EF%BC%8C%E9%82%A3%E5%B0%B1%E7%9B%B4%E6%8E%A5%E6%9C%83%E4%BB%A5NAN%E5%91%88%E7%8F%BE%E3%80%82">¶</a>
</h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [58]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_asfreq</span><span class="o">=</span><span class="n">df_series</span><span class="o">.</span><span class="n">asfreq</span><span class="p">(</span><span class="s1">'10S'</span><span class="p">)</span>
<span class="n">df_asfreq</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[58]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>ts
2016-12-31 00:00:02    0.029233
2016-12-31 00:00:12    0.018405
2016-12-31 00:00:22    0.018337
2016-12-31 00:00:32    0.024450
2016-12-31 00:00:42         NaN
2016-12-31 00:00:52         NaN
2016-12-31 00:01:02         NaN
2016-12-31 00:01:12         NaN
2016-12-31 00:01:22    0.018382
2016-12-31 00:01:32    0.021951
2016-12-31 00:01:42    0.025641
2016-12-31 00:01:52    0.020732
2016-12-31 00:02:02         NaN
2016-12-31 00:02:12         NaN
2016-12-31 00:02:22         NaN
2016-12-31 00:02:32    0.032967
2016-12-31 00:02:42    0.020732
2016-12-31 00:02:52    0.019536
2016-12-31 00:03:02    0.040293
2016-12-31 00:03:12         NaN
2016-12-31 00:03:22         NaN
2016-12-31 00:03:32         NaN
2016-12-31 00:03:42         NaN
2016-12-31 00:03:52    0.018382
2016-12-31 00:04:02    0.021951
2016-12-31 00:04:12    0.021978
2016-12-31 00:04:22         NaN
2016-12-31 00:04:32         NaN
2016-12-31 00:04:42         NaN
2016-12-31 00:04:52         NaN
                         ...   
2016-12-31 07:32:22         NaN
2016-12-31 07:32:32    0.023199
2016-12-31 07:32:42    0.023199
2016-12-31 07:32:52    0.020757
2016-12-31 07:33:02         NaN
2016-12-31 07:33:12         NaN
2016-12-31 07:33:22         NaN
2016-12-31 07:33:32         NaN
2016-12-31 07:33:42    0.024450
2016-12-31 07:33:52    0.028117
2016-12-31 07:34:02    0.021951
2016-12-31 07:34:12    0.029340
2016-12-31 07:34:22         NaN
2016-12-31 07:34:32         NaN
2016-12-31 07:34:42         NaN
2016-12-31 07:34:52    0.028117
2016-12-31 07:35:02    0.020808
2016-12-31 07:35:12    0.020782
2016-12-31 07:35:22    0.020732
2016-12-31 07:35:32         NaN
2016-12-31 07:35:42         NaN
2016-12-31 07:35:52         NaN
2016-12-31 07:36:02         NaN
2016-12-31 07:36:12    0.021978
2016-12-31 07:36:22    0.020757
2016-12-31 07:36:32    0.020732
2016-12-31 07:36:42         NaN
2016-12-31 07:36:52         NaN
2016-12-31 07:37:02         NaN
2016-12-31 07:37:12         NaN
Freq: 10S, dtype: float32</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="可以用ffill或bfill補齊，分別是以前值和後值補齊缺值。">可以用<code>ffill</code>或<code>bfill</code>補齊，分別是以前值和後值補齊缺值。<a class="anchor-link" href="#%E5%8F%AF%E4%BB%A5%E7%94%A8ffill%E6%88%96bfill%E8%A3%9C%E9%BD%8A%EF%BC%8C%E5%88%86%E5%88%A5%E6%98%AF%E4%BB%A5%E5%89%8D%E5%80%BC%E5%92%8C%E5%BE%8C%E5%80%BC%E8%A3%9C%E9%BD%8A%E7%BC%BA%E5%80%BC%E3%80%82">¶</a>
</h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [71]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_asfreq</span><span class="o">.</span><span class="n">ffill</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[71]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>ts
2016-12-31 00:00:02    0.029233
2016-12-31 00:00:12    0.018405
2016-12-31 00:00:22    0.018337
2016-12-31 00:00:32    0.024450
2016-12-31 00:00:42    0.024450
2016-12-31 00:00:52    0.024450
2016-12-31 00:01:02    0.024450
2016-12-31 00:01:12    0.024450
2016-12-31 00:01:22    0.018382
2016-12-31 00:01:32    0.021951
2016-12-31 00:01:42    0.025641
2016-12-31 00:01:52    0.020732
2016-12-31 00:02:02    0.020732
2016-12-31 00:02:12    0.020732
2016-12-31 00:02:22    0.020732
2016-12-31 00:02:32    0.032967
2016-12-31 00:02:42    0.020732
2016-12-31 00:02:52    0.019536
2016-12-31 00:03:02    0.040293
2016-12-31 00:03:12    0.040293
2016-12-31 00:03:22    0.040293
2016-12-31 00:03:32    0.040293
2016-12-31 00:03:42    0.040293
2016-12-31 00:03:52    0.018382
2016-12-31 00:04:02    0.021951
2016-12-31 00:04:12    0.021978
2016-12-31 00:04:22    0.021978
2016-12-31 00:04:32    0.021978
2016-12-31 00:04:42    0.021978
2016-12-31 00:04:52    0.021978
                         ...   
2016-12-31 07:32:22    0.021978
2016-12-31 07:32:32    0.023199
2016-12-31 07:32:42    0.023199
2016-12-31 07:32:52    0.020757
2016-12-31 07:33:02    0.020757
2016-12-31 07:33:12    0.020757
2016-12-31 07:33:22    0.020757
2016-12-31 07:33:32    0.020757
2016-12-31 07:33:42    0.024450
2016-12-31 07:33:52    0.028117
2016-12-31 07:34:02    0.021951
2016-12-31 07:34:12    0.029340
2016-12-31 07:34:22    0.029340
2016-12-31 07:34:32    0.029340
2016-12-31 07:34:42    0.029340
2016-12-31 07:34:52    0.028117
2016-12-31 07:35:02    0.020808
2016-12-31 07:35:12    0.020782
2016-12-31 07:35:22    0.020732
2016-12-31 07:35:32    0.020732
2016-12-31 07:35:42    0.020732
2016-12-31 07:35:52    0.020732
2016-12-31 07:36:02    0.020732
2016-12-31 07:36:12    0.021978
2016-12-31 07:36:22    0.020757
2016-12-31 07:36:32    0.020732
2016-12-31 07:36:42    0.020732
2016-12-31 07:36:52    0.020732
2016-12-31 07:37:02    0.020732
2016-12-31 07:37:12    0.020732
Freq: 10S, dtype: float32</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="resample">resample<a class="anchor-link" href="#resample">¶</a>
</h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="這個方法比較適合原本就有缺值得情況，每十秒切一個區段，然後再每個區段取平均。">這個方法比較適合原本就有缺值得情況，每十秒切一個區段，然後再每個區段取平均。<a class="anchor-link" href="#%E9%80%99%E5%80%8B%E6%96%B9%E6%B3%95%E6%AF%94%E8%BC%83%E9%81%A9%E5%90%88%E5%8E%9F%E6%9C%AC%E5%B0%B1%E6%9C%89%E7%BC%BA%E5%80%BC%E5%BE%97%E6%83%85%E6%B3%81%EF%BC%8C%E6%AF%8F%E5%8D%81%E7%A7%92%E5%88%87%E4%B8%80%E5%80%8B%E5%8D%80%E6%AE%B5%EF%BC%8C%E7%84%B6%E5%BE%8C%E5%86%8D%E6%AF%8F%E5%80%8B%E5%8D%80%E6%AE%B5%E5%8F%96%E5%B9%B3%E5%9D%87%E3%80%82">¶</a>
</h3>
<h3 id="如果怕依然缺值，一樣可以用bfill或ffill補齊。">如果怕依然缺值，一樣可以用<code>bfill</code>或<code>ffill</code>補齊。<a class="anchor-link" href="#%E5%A6%82%E6%9E%9C%E6%80%95%E4%BE%9D%E7%84%B6%E7%BC%BA%E5%80%BC%EF%BC%8C%E4%B8%80%E6%A8%A3%E5%8F%AF%E4%BB%A5%E7%94%A8bfill%E6%88%96ffill%E8%A3%9C%E9%BD%8A%E3%80%82">¶</a>
</h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [67]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_resample</span><span class="o">=</span><span class="n">df_series</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s1">'10S'</span><span class="p">)</span>
<span class="n">df_resample</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[67]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>DatetimeIndexResampler [freq=&lt;10 * Seconds&gt;, axis=0, closed=left, label=left, convention=start, base=0]</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [68]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_resample</span><span class="o">=</span><span class="n">df_resample</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">df_resample</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[68]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>ts
2016-12-31 00:00:00    0.028090
2016-12-31 00:00:10    0.028353
2016-12-31 00:00:20    0.023452
2016-12-31 00:00:30    0.030049
2016-12-31 00:00:40    0.024173
2016-12-31 00:00:50    0.023213
2016-12-31 00:01:00    0.033727
2016-12-31 00:01:10    0.026548
2016-12-31 00:01:20    0.026083
2016-12-31 00:01:30    0.032499
2016-12-31 00:01:40    0.023704
2016-12-31 00:01:50    0.024697
2016-12-31 00:02:00    0.026831
2016-12-31 00:02:10    0.026858
2016-12-31 00:02:20    0.035733
2016-12-31 00:02:30    0.027134
2016-12-31 00:02:40    0.025402
2016-12-31 00:02:50    0.023687
2016-12-31 00:03:00    0.030281
2016-12-31 00:03:10    0.025670
2016-12-31 00:03:20    0.025859
2016-12-31 00:03:30    0.028321
2016-12-31 00:03:40    0.027426
2016-12-31 00:03:50    0.025384
2016-12-31 00:04:00    0.027099
2016-12-31 00:04:10    0.026852
2016-12-31 00:04:20    0.028075
2016-12-31 00:04:30    0.027624
2016-12-31 00:04:40    0.025178
2016-12-31 00:04:50    0.024126
                         ...   
2016-12-31 07:32:20    0.034802
2016-12-31 07:32:30    0.029114
2016-12-31 07:32:40    0.025157
2016-12-31 07:32:50    0.026614
2016-12-31 07:33:00    0.031308
2016-12-31 07:33:10    0.025154
2016-12-31 07:33:20    0.028861
2016-12-31 07:33:30    0.024463
2016-12-31 07:33:40    0.029508
2016-12-31 07:33:50    0.025667
2016-12-31 07:34:00    0.027844
2016-12-31 07:34:10    0.029316
2016-12-31 07:34:20    0.027865
2016-12-31 07:34:30    0.028343
2016-12-31 07:34:40    0.026815
2016-12-31 07:34:50    0.026884
2016-12-31 07:35:00    0.030296
2016-12-31 07:35:10    0.026621
2016-12-31 07:35:20    0.024439
2016-12-31 07:35:30    0.028587
2016-12-31 07:35:40    0.028598
2016-12-31 07:35:50    0.031745
2016-12-31 07:36:00    0.029797
2016-12-31 07:36:10    0.026898
2016-12-31 07:36:20    0.024417
2016-12-31 07:36:30    0.026630
2016-12-31 07:36:40    0.027565
2016-12-31 07:36:50    0.024685
2016-12-31 07:37:00    0.027364
2016-12-31 07:37:10    0.025054
Freq: 10S, dtype: float32</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [72]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_resample</span><span class="o">=</span><span class="n">df_resample</span><span class="o">.</span><span class="n">bfill</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

</div>
    </div>
  </div>
</div>
          <div class='info clearfix'>
            <div class='tags all'>
                          <span><a href=".././tag/python">Python</a></span>
                      </div>
          </div>
        </div>
      </div>

      <div class='right'>
                <div class='pin oa_infos'>
                <div class='message hide' data-name="Pandas小技巧2"></div>
                <div class='line1'></div><div class='line2'></div>
                <a href="https://github.com/KuiMing" target='_blank'>
                  <div class='avatar_outline'>
                    <div class='avatar'>
                      <img src="http://i.imgur.com/8YSdNmE.jpg">
                    </div>
                  </div>
                </a>
                <div class='info info1'>
                  <a href="https://github.com/KuiMing" target='_blank'>
                    陳奎銘(Ben)                  </a>
                </div>
                <div class='info info2'>benjamin0901@gmail.com</div>
                <div class='info info3'>職業: R User</div>
                <div class='info info4'>生日: 1984/09/01</div>
              </div>
                      <div class='pin tree'>
                  <div class='title'>Ben's Date Tree</div>
                  <div class="oa-tree">
                    <ul>
                                        <li>
                          <span class='folder'>
                            <span data-open='▼' data-close='►'>►</span>
                            2017年 (3)
                          </span>
                                                <ul>
                                                        <li>
                                  <span class='folder'>
                                    <span data-open='▼' data-close='►'>►</span>
                                    01月 (3)
                                  </span>
                                                                <ul>
                                                                        <li><a class='item' href="../article/Pandas小技巧2.html">Pandas小技巧2</a></li>
                                                                        <li><a class='item' href="../article/操作Marathon.html">操作Marathon</a></li>
                                                                        <li><a class='item' href="../article/Python正規表示法筆記.html">Python正規表示法筆記</a></li>
                                                                    </ul>
                                                            </li>
                                                    </ul>
                                            </li>
                                        <li>
                          <span class='folder'>
                            <span data-open='▼' data-close='►'>►</span>
                            2016年 (28)
                          </span>
                                                <ul>
                                                        <li>
                                  <span class='folder'>
                                    <span data-open='▼' data-close='►'>►</span>
                                    12月 (7)
                                  </span>
                                                                <ul>
                                                                        <li><a class='item' href="../article/Matplotlib筆記.html">Matplotlib筆記</a></li>
                                                                        <li><a class='item' href="../article/Pandas小技巧.html">Pandas小技巧</a></li>
                                                                        <li><a class='item' href="../article/cassandra練習4.html">cassandra練習4</a></li>
                                                                        <li><a class='item' href="../article/cassandra練習3-在cluster操作.html">cassandra練習3-在cluster操作</a></li>
                                                                        <li><a class='item' href="../article/cassandra練習2-用pyspark操作.html">cassandra練習2-用pyspark操作</a></li>
                                                                        <li><a class='item' href="../article/cassandra練習1.html">cassandra練習1</a></li>
                                                                        <li><a class='item' href="../article/Probit_Analysis.html">Probit_Analysis</a></li>
                                                                    </ul>
                                                            </li>
                                                        <li>
                                  <span class='folder'>
                                    <span data-open='▼' data-close='►'>►</span>
                                    10月 (1)
                                  </span>
                                                                <ul>
                                                                        <li><a class='item' href="../article/Candlestick與matplotlib.html">Candlestick與matplotlib</a></li>
                                                                    </ul>
                                                            </li>
                                                        <li>
                                  <span class='folder'>
                                    <span data-open='▼' data-close='►'>►</span>
                                    08月 (11)
                                  </span>
                                                                <ul>
                                                                        <li><a class='item' href="../article/CV_Bio_20160825.html">CV_Bio_20160825</a></li>
                                                                        <li><a class='item' href="../article/擴充Raspberry Pi的硬碟.html">擴充Raspberry Pi的硬碟</a></li>
                                                                        <li><a class='item' href="../article/python的套件學習清單.html">python的套件學習清單</a></li>
                                                                        <li><a class='item' href="../article/在Raspberry_Pi裝R.html">在Raspberry_Pi裝R</a></li>
                                                                        <li><a class='item' href="../article/crontab.html">crontab</a></li>
                                                                        <li><a class='item' href="../article/從零開始Raspberry_Pi.html">從零開始Raspberry_Pi</a></li>
                                                                        <li><a class='item' href="../article/Python-Brainstorm.html">Python-Brainstorm</a></li>
                                                                        <li><a class='item' href="../article/matplotlib要先設定.html">matplotlib要先設定</a></li>
                                                                        <li><a class='item' href="../article/TWSE似乎改版了.html">TWSE似乎改版了</a></li>
                                                                        <li><a class='item' href="../article/為Blog寫的python小物.html">為Blog寫的python小物</a></li>
                                                                        <li><a class='item' href="../article/用Python做查詢股價的小工具.html">用Python做查詢股價的小工具</a></li>
                                                                    </ul>
                                                            </li>
                                                        <li>
                                  <span class='folder'>
                                    <span data-open='▼' data-close='►'>►</span>
                                    07月 (9)
                                  </span>
                                                                <ul>
                                                                        <li><a class='item' href="../article/quantmod的問題-爬蟲修正.html">quantmod的問題-爬蟲修正</a></li>
                                                                        <li><a class='item' href="../article/R與GA串接.html">R與GA串接</a></li>
                                                                        <li><a class='item' href="../article/以Rmarkdown發blog.html">以Rmarkdown發blog</a></li>
                                                                        <li><a class='item' href="../article/quantmod的問題.html">quantmod的問題</a></li>
                                                                        <li><a class='item' href="../article/Finance with Python.html">Finance with Python</a></li>
                                                                        <li><a class='item' href="../article/收到跑完程式的通知.html">收到跑完程式的通知</a></li>
                                                                        <li><a class='item' href="../article/python學習技巧.html">python學習技巧</a></li>
                                                                        <li><a class='item' href="../article/投信認養股.html">投信認養股</a></li>
                                                                        <li><a class='item' href="../article/CV_20160708.html">CV_20160708</a></li>
                                                                    </ul>
                                                            </li>
                                                    </ul>
                                            </li>
                                    </ul>
                  </div>
                </div>
                        <div class='pin tags clearfix'>
                  <div class='title'>Ben's Tags</div>
                                <a href=".././tag/python"><span class="tag"><div class="doc"></div><div class="name">python (16)</div></span></a>
                                <a href=".././tag/r"><span class="tag"><div class="doc"></div><div class="name">r (9)</div></span></a>
                                <a href=".././tag/stock"><span class="tag"><div class="doc"></div><div class="name">stock (7)</div></span></a>
                                <a href=".././tag/cassandra"><span class="tag"><div class="doc"></div><div class="name">cassandra (4)</div></span></a>
                                <a href=".././tag/osx"><span class="tag"><div class="doc"></div><div class="name">osx (4)</div></span></a>
                                <a href=".././tag/linux"><span class="tag"><div class="doc"></div><div class="name">linux (3)</div></span></a>
                                <a href=".././tag/raspberry%20pi"><span class="tag"><div class="doc"></div><div class="name">raspberry pi (3)</div></span></a>
                                <a href=".././tag/spark"><span class="tag"><div class="doc"></div><div class="name">spark (2)</div></span></a>
                                <a href=".././tag/google"><span class="tag"><div class="doc"></div><div class="name">google (2)</div></span></a>
                                <a href=".././tag/cv"><span class="tag"><div class="doc"></div><div class="name">cv (2)</div></span></a>
                                <a href=".././tag/marathon"><span class="tag"><div class="doc"></div><div class="name">marathon (1)</div></span></a>
                                <a href=".././tag/dc%2Fos"><span class="tag"><div class="doc"></div><div class="name">dc/os (1)</div></span></a>
                                <a href=".././tag/rmarkdown"><span class="tag"><div class="doc"></div><div class="name">rmarkdown (1)</div></span></a>
                            </div>
              </div>
    </div>

    <div id="footer" class="oa-footer">
      <div class="oa-footer-desc">
        <div class="oa-footer-split-line"><hr></div>
        <div class='oa-footer-content'>Ben's Blog © 2016<br />如有 <u>相關問題</u> 歡迎來信 <b>benjamin0901@gmail.com</b><br>
    本作品授權採用 姓名標示-非商業性 2.0 台灣 (CC BY-NC 2.0 TW) 授權</br>
    <br>Original source code: https://github.com/comdan66/blog</br></div>
      </div>
    </div>
  </body>
</html>